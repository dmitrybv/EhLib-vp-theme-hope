import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as a,c as s,b as o,f as t,a as e}from"./app.ac77cf73.js";const c={},d=t('<h1 id="customizing-grid-footer" tabindex="-1"><a class="header-anchor" href="#customizing-grid-footer" aria-hidden="true">#</a> Customizing grid footer</h1><p><code>TDBGridEh</code> can display special row (footer) or rows at bottom part.</p><p>Use <code>FooterRowCount</code> property to specify the number of footer rows in the grid. Use Footer or <code>Footers</code> property of <code>TColumnEh</code> object to specify information which needs to show in footer cells. The <code>Footers</code> property is useful when you have more than one footer rows. <code>Footers</code> are a collection of <code>TColumnFooterEh</code> objects. Information from i-th element of collection will be shown in i-th row of footer. In footer cell, it is possible to show: Sum value for the specific field, records count, the value of a specific field or static text. Use <code>Footer.ValueType</code> or <code>Footers[i].ValueType</code> property to specify which type of value will be shown in the footer cell. If <code>ValueType = fvtStaticText</code>, then you also need to set <code>Value</code> property to specify text which will be shown. If <code>ValueType = fvtFieldValue</code>, then you need to set property <code>FieldName</code> to specify the field, value of which will be shown. To force grid to calculate total values you need to activate <code>SumList</code> (Set <code>DBGridEh.SumList.Active</code> to <code>True</code> value). Set <code>TColumnFooterEh.ValueType</code> to <code>fvtSum</code> to show sum value of the column field in the footer cell, you can also specify <code>Column.Footer.FieldName</code> to calculate total value of the other field. Set <code>ValueType</code> to <code>fvtCount</code> to force grid to display count of records in the footer cell.</p><p>Use the sub-properties of <code>TDBGridEh.FooterParams</code> property to Customize the footer of the grid:</p><p><code>Color: TColor</code></p><dd>Specifies the background color for the footer color</dd><br><p><code>FillStyle: TGridCellFillStyleEh</code></p><dd>Specifies the style of filling the footer cells</dd><br><p><code>Font: TFont</code></p><dd>Controls the font in which the title cells displays its data.</dd><p><code>ParentFont: Boolean</code></p><dd>Determines where a control looks for its font information.</dd><p><code>RowHeight: Integer</code></p><dd>Specifies the height of footer row in text lines</dd><p><code>RowLines: Integer</code></p><dd> Specifies the height of footer row in text lines Full row height = height in pixels of RowLines + RowHeight. </dd><p><code>HorzLineColor: TColor</code></p><dd>Color of the horizontal lines in the footer area.</dd><p><code>HorzLines: Boolean</code></p><dd>Presence of horizontal lines in the footer area.</dd><p><code>VertLineColor: TColor</code></p><dd>Color vertical lines in the footer area.</dd><p><code>VertLines: Boolean</code></p><dd>Presence of vertical lines in the footer area.</dd><br>',27),l=e("p",null,[e("code",null,"Active: Boolean")],-1),i=e("dd",null,"Set this property to activate the object SumList. SumList used to calculate aggregate values in the footer of the grid.",-1),r=e("p",null,[e("code",null,"ExternalRecalc: Boolean")],-1),p=e("dd",null,"The property specifies that the summation is an external method implemented in the DBGridEh.OnSumListRecalcAll event handler.",-1),u=e("p",null,[e("code",null,"VirtualRecords: Boolean")],-1),h=e("dd",null,"Set this property to True to correctly calculate the positions of the vertical scrollbars for datasets that do not support or incorrectly returns the number of records through the property `DataSet.RecNo`.",-1),f=e("br",null,null,-1),m=t(`<p><code>OnSumListRecalcAll</code></p><dd><p>The event is called when <code>DBGridEh.SumList.ExternalRecalc = True</code>. In the event handler is necessary to calculate the aggregate amount for the items in the collection and fill <code>DBGridEh.SumList.SumCollection</code> value <code>DBGridEh.SumList.SumCollection[i].SumValue</code>.</p></dd><p><code>OnSumListAfterRecalcAll</code></p><dd>The event is called after counting all aggregated values through SumList.</dd><br><p><code>TColumnEh.Footer</code> and <code>TSolumnEh.Footers[i]</code> elements have <code>TColumnFooterEh</code> type and contain the following properties:</p><p><code>Alignment: TAlignment</code></p><dd>Alignment of a summed value in the cell footer.</dd><br><p><code>Color: TColor</code></p><dd>Color of a cell footer.</dd><br><p><code>DisplayFormat: String</code></p><dd>The format for displaying numbers</dd><br><p><code>EndEllipsis: Boolean</code></p><dd>Display ellipsis if text does not fit in a cell grid</dd><br><p><code>FieldName: String</code></p><dd>Name of the field to which it applies the aggregate function of certain properties ValueType</dd><br><p><code>Font: TFont</code></p><dd>Font of a cell footer</dd><br><p><code>ToolTips: Boolean</code></p><dd>Whether to display the tooltip window with a full text of the cell when user move the mouse on footer cell if the text does not fit into the cell.</dd><br><p><code>Value: String</code></p><dd>Static text that is displayed in the cell when a Footer.ValueType = fvtStaticText</dd><br><p><code>ValueType: TFooterValueType</code></p><dd>Type of output value, or summing function. The property may comprise the following values: <p><code>fvtNon</code>, <code>fvtSum</code>, <code>fvtAvg</code>, <code>fvtCount</code>, <code>fvtFieldValue</code>, <code>fvtStaticText</code> , <code>fvtMin</code>, <code>fvtMax</code></p></dd><br><p><code>WordWrap: Boolean</code></p><dd>Wrap text, if it does not fit on one line in a footer cell. </dd><br><p>Use <code>DBGridEh.OnGetFooterParams</code> event in order to control the parameters of the cell footer draw operation.</p><div class="language-pascal line-numbers-mode" data-ext="pascal"><pre class="language-pascal"><code><span class="token keyword">procedure</span> TForm2<span class="token punctuation">.</span>DBGridEh2GetFooterParams<span class="token punctuation">(</span>Sender<span class="token punctuation">:</span> TObject<span class="token punctuation">;</span> DataCol<span class="token punctuation">,</span>
  Row<span class="token punctuation">:</span> Integer<span class="token punctuation">;</span> Column<span class="token punctuation">:</span> TColumnEh<span class="token punctuation">;</span> AFont<span class="token punctuation">:</span> TFont<span class="token punctuation">;</span> <span class="token keyword">var</span> Background<span class="token punctuation">:</span> TColor<span class="token punctuation">;</span>
  <span class="token keyword">var</span> Alignment<span class="token punctuation">:</span> TAlignment<span class="token punctuation">;</span> State<span class="token punctuation">:</span> TGridDrawState<span class="token punctuation">;</span> <span class="token keyword">var</span> Text<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">begin</span>

<span class="token keyword">end</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the event you can change property values <code>AFont</code>, <code>Background</code>, <code>Alignment</code>, <code>Text</code> to change the text and text fortmat footer cell before rendering. Use the following methods and properties when using the footer:</p><div class="language-pascal line-numbers-mode" data-ext="pascal"><pre class="language-pascal"><code><span class="token keyword">function</span> TDBGridEh<span class="token punctuation">.</span>GetFooterValue<span class="token punctuation">(</span>Row<span class="token punctuation">:</span> Integer<span class="token punctuation">;</span> Column<span class="token punctuation">:</span> TColumnEh<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">String</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The method returns a string value in the footer for a column definition. Parameter Row sets the row number footer (FooterRowCount be more than 1). Column specifies the column for which it is necessary to obtain the value of the footer.</p>`,41);function g(v,y){return a(),s("div",null,[d,o(" The SumList property includes the following subproperties: "),l,i,r,p,u,h,f,o(" DBGridEh events, related to the calculation of aggregate values in SumList'e: "),m])}const k=n(c,[["render",g],["__file","35-customizing-grid-footer.html.vue"]]);export{k as default};

import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as t,c as o,d as p,w as c,f as r,r as l,a,b as n}from"./app.ac77cf73.js";const u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGEAAABcCAIAAADxgEyHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUUSURBVHhe7ZpPTxtHFMD3KzWRkJuPEyNL/RacA5X2mltOPWMkcwEaKnHqJUogpK2hf2hzRGINjl0KTN+b92Y8OzNlm+KdXbrvpyeYmTf27v78dtd/JlNCFeKoGnFUjTiqJnslVLGoo7W1NW51m9CDOPIRR9VEHN0ZKMedDhN6EEc+EUe3Bspxp8OEHsSRT8TRjYFy3OkwoQdx5BNx9JeBctzpMKEHceQTcXRtoBx3OkzoQRz5JHR0/PWX2YLVLR5uPyUPdBR/GijHnYdzvNHrbRyH7SVSz9M6HoarGW4giSPc2OqQ28ujbkfm+bO5gXLceTjvcQPvvTY06NyD1wf6ON7v41B/OB/2KaM7/CgesJM3Nsyk/tCk7VaWhOMBNwFPX6cjfQgaa8gcEDV5H3g2q0FZlAsnO/rKU5ZI2YPe6sxAOe48nKP1Xm/9iDsaGGFlRG9908z5rMmUhXb4qGUQekjsqL/JHY2d81mTbTt81DKIOPpkoBx3Hs7hi17vxSF3CBjKnm86zcUcJ/Vp83kGo/dMNk/ujiwP68HuQUpHABw/nzuYK82xKVcWEUzmNk0w05eE64H3YGqgHHc6TOhBHPmIo2oijq4MlONOhwk9iCOfiKNLA+W402FCD+LIJ+JoYqAcdzpM6EEc+UQcFQbKcafDhB7EkU/E0YWBctzpMKEHceQTcQRDwv3gfW0+n4O5/f19+CuEHnCt3+3tLZii3Fcx9MyuEHF0d3cH/+Css46++f7CDXGEa7TgnziyOI62B9lgu0FH4/wZbp+b+ivRZ/nYdhdtMysVLXEE20b46LcHJIR8sBUa3B6kNhR1BE3vml2/I8RWyKJUWBYMUB2N8wFVU1LijoimHJkycm1pmigi4FHUEUFFZGsqHRFHTd37QzWlMtJFxCMld7XjOILt45ZbeF8DrBWdSmmo5IgLSd4f+biO+EUSRx5lR4h8XvOJOCqKQj73u0QcwZBwP9ne3t7p6SnYgs7Tl0oCPPwxVW7g9Wg6ne7u7pIjvgK1Ffdgagrw8PtUuYFrj0HT1taWdeTd19oTyRydXSk3cB2bOHIDPPx2pTDe5U/1e1tcN5Le0cE5bBMXZo7s4Mm1Op/q9uRoZlPQvj4wc5I5+vVKYbzLn6zk30EdNeAIdGgFo483xceJHpyezW4K7QgGz05wDqZOrrFtHpjM0S+XCuMtOtq/1J9FQJN7zbb7VFOMyMJiRBfL4YwcOXU0OTp3Ci2ho58vFYZ29BocfbhQFMkcHZzfFGABwfNoRMoWjkyUiwginaOJwniTP6HrEeypd+93d6uOGNk6wmvQDKvGYE49CCoi99qUztHpRGGAo5X820kj93661rgNCK+OdBGN3GtTQkcnE4WhHe2Bo0bu/Xxf0+caD5YcwSWcaqeZOhoXCuNN/sVKvls0cl/7r5HM0U+FwgBHdD0SR16Ahx8L5Ubk3t9m3IOpKcDDDxfKjWxnZ2c8xu+LyZEEeLDvhyjk+6NqZP2RT+jhX32fbdEP+Z8TcVT5G6SN7jqq/O3IRvccmd+ym3L0z7/Tur/NOrNS0RJHsG2Ejh40kBDaI7ZCv2Y/lvVHNmqrI8ZZG0F19HjWH9mo05GurMCZN5CGVteRLSTNo1p/ZKMmR7wjpRa2oclz2r/+yEZtdaRPNMQxxFaarSN+1eT9kY/riF8kceRRdoTI5zWfiCNZf+QRcQRDwv3I90c+oYf49UinOkrEUfgeUhxxi1Dqb7iAUQHqyItfAAAAAElFTkSuQmCC",d={},i=r('<h1 id="drawing-of-a-progressbar" tabindex="-1"><a class="header-anchor" href="#drawing-of-a-progressbar" aria-hidden="true">#</a> Drawing of a ProgressBar</h1><p>Grid doesn&#39;t allow customizing column to show ProgressBar shaped image, but there is a procedure DrawProgressBarEh in the ToolCtrlsEh module. You can use it to draw image of ProgressBar when an event of custom drawing of a Grid&#39;s cell is used.</p><p><img src="'+u+`" alt="" loading="lazy"></p><p>Below you can see an example of using of the DrawProgressBarEh procedure:</p><div class="language-pascal" data-ext="pascal"><pre class="language-pascal"><code><span class="token keyword">procedure</span> TForm1<span class="token punctuation">.</span>DBGridEh6Columns3AdvDrawDataCell<span class="token punctuation">(</span>Sender<span class="token punctuation">:</span> TCustomDBGridEh<span class="token punctuation">;</span>
  Cell<span class="token punctuation">,</span> AreaCell<span class="token punctuation">:</span> TGridCoord<span class="token punctuation">;</span> Column<span class="token punctuation">:</span> TColumnEh<span class="token punctuation">;</span> <span class="token keyword">const</span> ARect<span class="token punctuation">:</span> TRect<span class="token punctuation">;</span>
  <span class="token keyword">var</span> Params<span class="token punctuation">:</span> TColCellParamsEh<span class="token punctuation">;</span> <span class="token keyword">var</span> Processed<span class="token punctuation">:</span> Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">begin</span>
  Sender<span class="token punctuation">.</span>DefaultDrawColumnDataCell<span class="token punctuation">(</span>Cell<span class="token punctuation">,</span> AreaCell<span class="token punctuation">,</span> Column<span class="token punctuation">,</span> ARect<span class="token punctuation">,</span> Params<span class="token punctuation">)</span><span class="token punctuation">;</span>

  DrawProgressBarEh<span class="token punctuation">(</span>mtTable1<span class="token punctuation">.</span>FieldByName<span class="token punctuation">(</span><span class="token string">&#39;ItemsTotal&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>AsFloat<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">,</span> 
     Sender<span class="token punctuation">.</span>Canvas<span class="token punctuation">,</span> ARect<span class="token punctuation">,</span> clSkyBlue<span class="token punctuation">,</span> cl3DDkShadow<span class="token punctuation">,</span> clNone<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Processed <span class="token operator">:=</span> <span class="token keyword">True</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span>
</code></pre></div><br><p>Procedure DrawProgressBarEh has next parameters: <br></p><p><code>CurrentValue: Double;</code></p><dd>Current value of the DrawProgress position.</dd><br><p><code>MinValue: Double;</code></p><dd>Minimum value of the DrawProgress position. The value is used to calculate the current percentage.</dd><br><p><code>MaxValue: Double;</code></p><dd>Maxinum value of the DrawProgress position. The value is used to calculate the current percentage.</dd><br><p><code>Canvas: TCanvas;</code></p><dd>The canvas that is used for rendering. Here you need to pass the canvas of the grid.</dd><br><p><code>const Rect: TRect;</code></p><dd>The rectangle inside which the DrawProgress is drawn.</dd><br><p><code>Color: TColor;</code></p><dd>The color of the progress bar that paints the completed part of the process.</dd><br><p><code>FrameColor: TColor;</code></p><dd>The border color of the completed part of the progress bar.</dd><br><p><code>BackgroundColor: TColor;</code></p><dd>The color of the entire background of the progress bar.</dd><br><p><code>const PBParPtr: PProgressBarParamsEh = nil</code></p><dd>Pointer to advanced rendering options for the progress bar. This is not a required parameter. You can also pass nil as a parameter to indicate that advanced options are not used.</dd><br><p>Extended options are of the following type:</p><div class="language-pascal" data-ext="pascal"><pre class="language-pascal"><code>PProgressBarParamsEh <span class="token operator">=</span> <span class="token string">^T</span>ProgressBarParamsEh<span class="token punctuation">;</span>
  TProgressBarParamsEh <span class="token operator">=</span> <span class="token keyword">record</span> <span class="token operator">..</span><span class="token punctuation">.</span>
</code></pre></div><br><p><code>TProgressBarParamsEh</code> has the following fields:</p><p><code>ShowText: Boolean;</code></p><dd>Whether to show the progress percentage value.</dd><br><p><code>TextType: TProgressBarTextTypeEh;</code></p><p><code>TProgressBarTextTypeEh = (pbttAsValue, pbttAsPercent);</code></p><dd><code>pbttAsValue</code> - display the value passed in the CurrentValue parameter.</dd><br><dd><code>pbttAsPercent</code> - Display the value as a percentage calculated using the formula MaxValue - MinValue = 100%.</dd><br><p><code>TextDecimalPlaces: Byte;</code></p><dd> Round the value to a decimal point.</dd><br><p><code>TextAlignment : TAlignment;</code></p><dd> Percent text alignment.</dd><br><p><code>FrameFigureType: TProgressBarFrameFigureTypeEh;</code></p><p><code>TProgressBarFrameFigureTypeEh = (pbfftRectangle, pbfftRoundRect);</code></p><dd> Border type. <br> <br><code>pbfftRectangle</code> - Rectangle. <br> <br><code>pbfftRoundRect</code> - Rectangle with rounded corners.</dd><br><p><code>FrameSizeType: TProgressBarFrameSizeTypeEh;</code></p><p><code>TProgressBarFrameSizeTypeEh = (pbfstFull, pbfstVal);</code></p><dd> The drawing area of the border. <p><code>pbfstFull</code> - A border is drawn around the entire area of the progress bar.</p><p><code>pbfstVal</code> - The border is drawn around the completed area of the progress bar.</p></dd><p><code>Indent: Byte</code></p><dd>The size of the indent from the cell borders.</dd><br><p><code>FontName: String;</code></p><dd>The name of the font to display the progress percentage.</dd><br><p><code>FontColor: TColor;</code></p><dd>Font color.</dd><br><p><code>FontSize: Integer;</code></p><dd>Font size.</dd><br><p><code>FontStyle: TFontStyles;</code></p><dd>Font style.</dd><br><p>Code example:</p>`,76),k=a("div",{class:"language-pascal","data-ext":"pascal"},[a("pre",{class:"language-pascal"},[a("code",null,[a("span",{class:"token keyword"},"procedure"),n(" TForm1"),a("span",{class:"token punctuation"},"."),n("DBGridEh1Columns5AdvDrawDataCell"),a("span",{class:"token punctuation"},"("),n("Sender"),a("span",{class:"token punctuation"},":"),n(" TCustomDBGridEh"),a("span",{class:"token punctuation"},";"),n(" Cell"),a("span",{class:"token punctuation"},","),n(`
  AreaCell`),a("span",{class:"token punctuation"},":"),n(" TGridCoord"),a("span",{class:"token punctuation"},";"),n(" Column"),a("span",{class:"token punctuation"},":"),n(" TColumnEh"),a("span",{class:"token punctuation"},";"),n(),a("span",{class:"token keyword"},"const"),n(" ARect"),a("span",{class:"token punctuation"},":"),n(" TRect"),a("span",{class:"token punctuation"},";"),n(`
  `),a("span",{class:"token keyword"},"var"),n(" Params"),a("span",{class:"token punctuation"},":"),n(" TColCellParamsEh"),a("span",{class:"token punctuation"},";"),n(),a("span",{class:"token keyword"},"var"),n(" Processed"),a("span",{class:"token punctuation"},":"),n(" Boolean"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`
`),a("span",{class:"token keyword"},"var"),n(`
  Prm`),a("span",{class:"token punctuation"},":"),n(" TProgressBarParamsEh"),a("span",{class:"token punctuation"},";"),n(`
`),a("span",{class:"token keyword"},"begin"),n(`
  Sender`),a("span",{class:"token punctuation"},"."),n("DefaultDrawColumnDataCell"),a("span",{class:"token punctuation"},"("),n("Cell"),a("span",{class:"token punctuation"},","),n(" AreaCell"),a("span",{class:"token punctuation"},","),n(" Column"),a("span",{class:"token punctuation"},","),n(" ARect"),a("span",{class:"token punctuation"},","),n(" Params"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`

  Prm`),a("span",{class:"token punctuation"},"."),n("ShowText "),a("span",{class:"token operator"},":="),n(),a("span",{class:"token keyword"},"True"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("TextType "),a("span",{class:"token operator"},":="),n(" TProgressBarTextTypeEh"),a("span",{class:"token punctuation"},"."),n("pbttAsPercent"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("TextDecimalPlaces "),a("span",{class:"token operator"},":="),n(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("TextAlignment "),a("span",{class:"token operator"},":="),n(" TAlignment"),a("span",{class:"token punctuation"},"."),n("taCenter"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("FrameFigureType "),a("span",{class:"token operator"},":="),n(" TProgressBarFrameFigureTypeEh"),a("span",{class:"token punctuation"},"."),n("pbfftRectangle"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("FrameSizeType "),a("span",{class:"token operator"},":="),n(" TProgressBarFrameSizeTypeEh"),a("span",{class:"token punctuation"},"."),n("pbfstFull"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("Indent "),a("span",{class:"token operator"},":="),n(),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("FontName "),a("span",{class:"token operator"},":="),n(),a("span",{class:"token string"},"''"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("FontColor "),a("span",{class:"token operator"},":="),n(" clDefault"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("FontSize "),a("span",{class:"token operator"},":="),n(" Sender"),a("span",{class:"token punctuation"},"."),n("Canvas"),a("span",{class:"token punctuation"},"."),n("Font"),a("span",{class:"token punctuation"},"."),n("Size "),a("span",{class:"token operator"},"-"),n(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),n(`
  Prm`),a("span",{class:"token punctuation"},"."),n("FontStyle "),a("span",{class:"token operator"},":="),n(),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),n(`

  DrawProgressBarEh`),a("span",{class:"token punctuation"},"("),n("MemTableEh1"),a("span",{class:"token punctuation"},"."),n("FieldByName"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'ItemsTotal'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),n("AsFloat"),a("span",{class:"token punctuation"},","),n(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},","),n(),a("span",{class:"token number"},"50000"),a("span",{class:"token punctuation"},","),n(`
    Sender`),a("span",{class:"token punctuation"},"."),n("Canvas"),a("span",{class:"token punctuation"},","),n(" ARect"),a("span",{class:"token punctuation"},","),n(" clSkyBlue"),a("span",{class:"token punctuation"},","),n(" cl3DDkShadow"),a("span",{class:"token punctuation"},","),n(" clNone"),a("span",{class:"token punctuation"},","),n(`
    `),a("span",{class:"token operator"},"@"),n("Prm"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`
  Processed `),a("span",{class:"token operator"},":="),n(),a("span",{class:"token keyword"},"True"),a("span",{class:"token punctuation"},";"),n(`
`),a("span",{class:"token keyword"},"end"),a("span",{class:"token punctuation"},";"),n(`
`)])])],-1);function m(g,h){const s=l("CodeDemo");return t(),o("div",null,[i,p(s,{id:"code-demo-124",type:"normal",title:"Full%20Demo%20code",code:"eJx1Ustu2zAQ/BXCFzuALcQtclFQoHpYRQ4NjEq3pgdaWktCVqRBUnHdov/eXUpW7CDRQRJ3ZpYz5P6dHaQtJYZKr7BVsFJ9twNjZ+HsYHQJVW9AFJk23TpI42+mrTbNOtHYd8reRdVLauQxlU4mgLjIQVVgQlEkvXW6O/PvBaPLJyVEZMBTicNYorWpCPb9WOd/WFFqZZ2IfkDpqM6fe9a/SCO20sjODmzuNaxZ5FF2bS1UoYi1RpDqhpSEsHxrOtIRpTbEiaWZtE9qB3WrmDSkCFLYyx4dBxxsTTF9minKcrRPFba5HP3xruOWQd7oYwG/nQi/iML04KMwwMXidAAPXNg61zdNcNg5F9ktmBLUcAZnYQpl20ncoqTA3GF9BUfY1qojkW8+rQIOoRyYiZyRXcjamm76PS9vYG9pv3ecVaoaX8N4Yt7++bjLGRx6WJf1iJP8gU59MPvptaVW7pGEXJ3Pr8p06NpwvcTxpq5g3orR8TITSSNgPRJ4aHVxWp7vTugFP3+NF8cXfxFg0yy+Q1fIHZL9dZC1gFV8YnOL+YODzhbaSZzfBJHNUEuag9uluLulxw/+NFaDk2lYSsyfTzH2wL+f0/Q5b2Slj7x61ApG7VeyyQPFfsfxvpglakzv2b//eHBNNw=="},{default:c(()=>[k]),_:1})])}const b=e(d,[["render",m],["__file","06-drawing-progressbar.html.vue"]]);export{b as default};

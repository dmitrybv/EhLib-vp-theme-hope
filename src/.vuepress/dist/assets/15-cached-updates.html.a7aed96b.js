import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as d,c as o,f as t}from"./app.ac77cf73.js";const a={},r=t('<h1 id="cached-updates" tabindex="-1"><a class="header-anchor" href="#cached-updates" aria-hidden="true">#</a> Cached updates</h1><p><code>TMemTableEh</code> can work in operative or postpone updates.</p><p><code>CachedUpdates</code> property defines type if updates. In operative mode of the updates, <code>TMemTableEh</code> sends changed record to c right after application call <code>TMemTableEh.Post</code> method or append new record in <code>TMemTableEh</code>.</p><p>In the postpone mode the updates aren’t sent to postpone, but are accumulated in the special buffer. Data are not transferred until the client application calls the <code>ApplyUpdates</code> method.</p><p>To turn on the postpone updates you need set <code>CachedUpdates</code> property to True.</p><p><code>ApplyUpdates</code> have a single parameter – <code>MaxErrors</code>. <code>MaxErrors</code> indicates the maximum number of errors that the <code>DataDriver</code> should allow before prematurely stopping update operations. Set <code>MaxErrors</code> to –1 to indicate that there is no limit to the number of errors. Set <code>MaxErrors</code> to <code>0</code> to define that whole process of change will be rejected on first error. Records, which renovations have come with errors, have an additional UpdateError property with type of TUpdateErrorEh.</p><p>To identify type of changing of record you need to use <code>UpdateStatus</code> method and <code>StatusFilter</code> property:</p><p><code>UpdateStatus</code> indicates a type of changing of current record in <code>MemTable</code>. It returns one of the following values:</p><dd><p><code>usUnmodified</code> - Indicates that the current record haven’t been changed.</p><p><code>usModified</code> - Indicates that the record was edited and changed.</p><p><code>usInserted</code> - Indicates that the record was added.</p><p><code>usDeleted</code> - Indicates that the record was removed.</p></dd><br><p><code>StatusFilter</code> defines filter for different types of records. <code>StatusFilter</code> – is a set that can contains any combination of the following values:</p><dd><p><code>usUnmodified</code> – Unmodified records are visible in MemTable.</p><p><code>usModified</code> - Modified records are visible in MemTable.</p><p><code>usInserted</code> - Added records are visible in MemTable.</p><p><code>usDeleted</code> – Deleted record are visible in MemTable.</p></dd><p>By default, <code>StatusFilter</code> have [usModified, usInserted, usUnmodified] value. So, deleted records are hidden.</p><p>Method <code>RevertRecord</code> restores an old condition of the current record and values of fields. If record was added in the program, it is deleted from the list. If record was changed then <code>UpdateStatus</code> property is restored to <code>usUnmodified</code> value. Method <code>MergeChangeLog</code> deletes a log of cached changes. All added or changed records get <code>usUnmodified</code> status.</p><p>Method <code>CancelUpdates</code> cancels all changes and restores old state of records array.</p>',15),c=[r];function s(n,i){return d(),o("div",null,c)}const l=e(a,[["render",s],["__file","15-cached-updates.html.vue"]]);export{l as default};
